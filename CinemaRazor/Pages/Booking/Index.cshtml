@page
@model CinemaRazor.Pages.Booking.IndexModel

@{
    ViewData["Title"] = "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤";
}

<h1>üé´ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤</h1>
<p class="lead">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ–∞–Ω—Å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–∞</p>

@if (!Model.Sessions.Any())
{
    <div class="alert alert-info">
        <strong>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ–∞–Ω—Å–æ–≤.</strong> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
    </div>
}
else
{
    <div class="row">
        @foreach (var session in Model.Sessions)
        {
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">üé¨ @session.Movie.Title</h5>
                        <p class="card-text text-muted mb-1">
                            <small>@session.Movie.Genre.Name</small>
                        </p>
                        <hr />
                        <p class="mb-2">
                            <strong>üïí –í—Ä–µ–º—è:</strong><br />
                            @session.StartTime.ToString("dd.MM.yyyy HH:mm")
                        </p>
                        <p class="mb-2">
                            <strong>‚è± –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> @session.Movie.DurationMinutes –º–∏–Ω
                        </p>
                        <p class="mb-3">
                            <strong>üí∞ –¶–µ–Ω–∞:</strong> 
                            <span class="badge bg-success fs-6">@session.Price.ToString("0") BYN</span>
                        </p>
                        <a asp-page="./SelectSeats" asp-route-sessionId="@session.Id" class="btn btn-primary w-100">
                            –í—ã–±—Ä–∞—Ç—å –º–µ—Å—Ç–æ
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
}

<div class="mt-4">
    <a asp-page="/Index" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
</div>
