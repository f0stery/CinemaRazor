@page
@model CinemaRazor.Pages.Employees.DetailsModel

@{
    var employee = Model.Employee;
    var positionTitle = string.IsNullOrWhiteSpace(employee.Position?.Title)
        ? "Должность не назначена"
        : employee.Position!.Title;

    ViewData["Title"] = $"Сотрудник — {employee.FullName}";
}

<section class="page-header mb-4">
    <h1 class="page-title">@employee.FullName</h1>
    <p class="page-subtitle mb-0">
        <span class="badge rounded-pill bg-primary-subtle text-primary-emphasis me-2">
            @positionTitle
        </span>
        @if (employee.Age > 0 || !string.IsNullOrWhiteSpace(employee.Gender))
        {
            <span class="text-muted">
                @(employee.Age > 0 ? $"{employee.Age} лет" : "")
                @(string.IsNullOrWhiteSpace(employee.Gender) ? string.Empty : (employee.Age > 0 ? ", " : string.Empty) + employee.Gender)
            </span>
        }
    </p>
</section>

<div class="surface-card surface-card--loose details-container">
    <div class="row">
        <div class="col-md-6">
            <h3 class="h5 mb-3">Основная информация</h3>
            <div class="details-row">
                <div class="details-label">Возраст:</div>
                <div class="details-value">@(employee.Age > 0 ? $"{employee.Age} лет" : "Не указан")</div>
            </div>

            <div class="details-row">
                <div class="details-label">Пол:</div>
                <div class="details-value">@(string.IsNullOrWhiteSpace(employee.Gender) ? "Не указан" : employee.Gender)</div>
            </div>

            <div class="details-row">
                <div class="details-label">Должность:</div>
                <div class="details-value">
                    <span class="badge rounded-pill text-bg-light border">@positionTitle</span>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h3 class="h5 mb-3">Контакты</h3>
            <div class="details-row">
                <div class="details-label">Телефон:</div>
                <div class="details-value">@(string.IsNullOrWhiteSpace(employee.Phone) ? "Не указан" : employee.Phone)</div>
            </div>

            <div class="details-row">
                <div class="details-label">Адрес:</div>
                <div class="details-value">@(string.IsNullOrWhiteSpace(employee.Address) ? "Не указан" : employee.Address)</div>
            </div>
        </div>
    </div>

    <div class="details-actions">
        <a asp-page="./Edit" asp-route-id="@employee.Id" class="btn btn-primary">Редактировать</a>
        <a asp-page="./Delete" asp-route-id="@employee.Id" class="btn btn-outline-secondary">Удалить</a>
        <a asp-page="./Index" class="btn btn-outline-secondary">Назад к списку</a>
    </div>
</div>
