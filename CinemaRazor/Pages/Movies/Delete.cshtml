@page
@model CinemaRazor.Pages.Movies.DeleteModel

@{
    ViewData["Title"] = "Удаление фильма";
}

<h1>Удаление фильма</h1>
<p class="text-muted">Вы уверены, что хотите удалить этот фильм? Это действие необратимо.</p>
<hr />

<div class="alert alert-danger" role="alert">
    <strong>Внимание!</strong>
    Удаление фильма приведёт к потере всех связанных данных — сеансов и билетов.
</div>

<dl class="row mb-4">
    <dt class="col-sm-3">Название</dt>
    <dd class="col-sm-9">@Model.Movie.Title</dd>

    <dt class="col-sm-3">Жанр</dt>
    <dd class="col-sm-9">@Model.Movie.Genre?.Name</dd>

    @if (!string.IsNullOrWhiteSpace(Model.Movie.Description))
    {
        <dt class="col-sm-3">Описание</dt>
        <dd class="col-sm-9">@Model.Movie.Description</dd>
    }

    @if (!string.IsNullOrWhiteSpace(Model.Movie.ProducerCompany))
    {
        <dt class="col-sm-3">Кинокомпания</dt>
        <dd class="col-sm-9">@Model.Movie.ProducerCompany</dd>
    }

    @if (!string.IsNullOrWhiteSpace(Model.Movie.ProductionCountry))
    {
        <dt class="col-sm-3">Страна</dt>
        <dd class="col-sm-9">@Model.Movie.ProductionCountry</dd>
    }

    @if (!string.IsNullOrWhiteSpace(Model.Movie.Actors))
    {
        <dt class="col-sm-3">Актёры</dt>
        <dd class="col-sm-9">@Model.Movie.Actors</dd>
    }

    <dt class="col-sm-3">Возрастной рейтинг</dt>
    <dd class="col-sm-9">
        @(Model.Movie.AgeRating > 0 ? $"{Model.Movie.AgeRating}+" : "Не указан")
    </dd>

    <dt class="col-sm-3">Дата выхода</dt>
    <dd class="col-sm-9">
        @(Model.Movie.ReleaseDate != DateTime.MinValue
                ? Model.Movie.ReleaseDate.ToString("dd.MM.yyyy")
                : "Не указана")
    </dd>

    <dt class="col-sm-3">Продолжительность</dt>
    <dd class="col-sm-9">
        @(Model.Movie.DurationMinutes > 0
                ? $"{Model.Movie.DurationMinutes} минут"
                : "Не указана")
    </dd>
</dl>

<form method="post">
    <input type="hidden" asp-for="Movie.Id" />
    <button type="submit" class="btn btn-danger">Удалить фильм</button>
    <a asp-page="./Index" class="btn btn-outline-secondary">Отмена</a>
</form>
